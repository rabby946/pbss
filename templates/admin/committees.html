{% extends 'base.html' %}
{% block title %}committees{% endblock %}
{% block content %}

<div class="ts-container">

    <header class="ts-header">
        <h2 class="ts-header__title">Our committees</h2>
        <div class="ts-header__controls">
            <a href="{{ url_for('admin.add_committee') }}" class="ts-add-btn">
                <i class="fas fa-plus mr-2"></i> Add committee
            </a>    
            
            <a href="{{ url_for('admin.committee_swap') }}" class="ts-add-btn">
                <i class="fas fa-exchange-alt mr-2"></i> Swap committee
            </a>
        </div>
        <br>
            <div class="ts-search-wrapper" style="padding-left: 0%;">
                <i class="fas fa-search ts-search-icon"></i>
                <input type="text" id="committeeSearch" placeholder="Search by name or position..." class="ts-search-input">
            </div>
    </header>

    <main>
        <div id="committeeGrid" class="ts-grid">
            {% for t in items %}
            <div class="ts-card" data-name="{{ t.name }}" data-designation="{{ t.position }}">
                <div class="ts-card__image-wrapper">
                    <img class="ts-card__image" src="{{ t.image_url }}" alt="Photo of {{ t.name }}">
                </div>
                <div class="ts-card__content">
                    <h3 class="ts-card__name">{{ t.name }}</h3>
                    <p class="ts-card__designation">{{ t.designation }}</p>
                    <div class="ts-card__actions">
                        <a href="{{ url_for('admin.edit_committee', id=t.id) }}" class="ts-action-btn ts-action-btn--edit" title="Edit">
                            <i class="fas fa-pencil-alt"></i>
                        </a>
                        <a href="{{ url_for('admin.delete_committee', id=t.id) }}" class="ts-action-btn ts-action-btn--delete" title="Delete">
                            <i class="fas fa-trash-alt"></i>
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div id="noResultsMessage" class="ts-no-results">
            <p>No committees found matching your search.</p>
        </div>
    </main>
</div>

{% endblock %}