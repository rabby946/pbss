{% extends "teacher/base.html" %}
{% block title %}Assigned Subjects{% endblock %}

{% block teacher_content %}
<div class="container mt-4">
  <h3 class="text-center mb-4">Assigned Subjects</h3>

  {% if assignments %}
  <table class="table table-striped table-bordered shadow-sm align-middle">
    <thead class="table-light">
      <tr>
        <th>#</th>
        <th>Subject</th>
        <th>Class</th>
        <th>Section</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for assign in assignments %}
      <tr>
        <td>{{ loop.index }}</td>
        <td>{{ assign.subject.name }}</td>
        <td>{{ assign.class_.name }}</td>
        <td>{{ assign.class_.section or '-' }}</td>
        <td>
          <span class="badge bg-{{ 'success' if assign.status == 'active' else 'secondary' }}">
            {{ assign.status }}
          </span>
        </td>
        <td>
          <a href="{{ url_for('teacher_bp.upload_results', subject_id=assign.subject.id) }}"
             class="btn btn-sm btn-primary">
            âž• Add Result
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p class="text-center text-muted">No subjects assigned yet.</p>
  {% endif %}
</div>
{% endblock %}
